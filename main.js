!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function o(e){localStorage.setItem("projects",JSON.stringify(e))}function r(){let e=document.querySelector("#projects-container");e.innerHTML="",d.totalProjects.forEach(t=>{!function(e,t){let n=document.createElement("div");n.classList.add("project");let c=document.createElement("button");if(c.innerText=e.title,c.classList.add("project-btn"),c.addEventListener("click",t=>{(function(e,t){let n=document.querySelectorAll(".project .project-btn"),i=e.target;n.forEach(e=>{e.classList.remove("active")}),i.classList.add("active"),d.totalProjects.forEach(e=>{e.active=!1}),t.active=!0,o(d.totalProjects),r()})(t,e),i(e.todosArray,e)}),!0===e.active){c.classList.add("active"),i(e.todosArray,e);let t=document.createElement("button");t.innerText="Add new todo",t.classList.add("button"),t.addEventListener("click",()=>{!function(e){let t=document.querySelector("#form-container");t.innerHTML="",t.classList.remove("hidden");let n=document.createElement("form");n.setAttribute("onsubmit","return false");let r=document.createElement("label");r.innerText="Title";let c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("id","title-todo"),r.appendChild(c),n.appendChild(r);let a=document.createElement("label");a.innerText="Description";let u=document.createElement("textarea");u.setAttribute("id","description-todo"),a.appendChild(u),n.appendChild(a);let s=document.createElement("label");s.innerText="Date";let p=document.createElement("input");p.setAttribute("type","date"),p.setAttribute("id","date-todo"),p.setAttribute("min",(new Date).toISOString().split("T")[0]),s.appendChild(p),n.appendChild(s);let m=document.createElement("label");m.innerText="Priority";let h=document.createElement("select");h.setAttribute("id","priority-todo");let f=document.createElement("option");f.innerText="Low",f.setAttribute("value","low"),h.appendChild(f);let b=document.createElement("option");b.innerText="Medium",b.setAttribute("value","medium"),h.appendChild(b);let E=document.createElement("option");E.innerText="High",E.setAttribute("value","high"),h.appendChild(E),m.appendChild(h),n.appendChild(m);let y=document.createElement("span");y.innerText="x",y.addEventListener("click",()=>{l()}),n.appendChild(y);let T=document.createElement("button");T.innerText="Send",T.onclick=()=>{!function(e){e.createTodo(),l(),i(e.todosArray,e),o(d.totalProjects)}(e)},T.classList.add("button"),n.appendChild(T),t.appendChild(n);let v=document.querySelector("#wall");v.classList.remove("hidden"),v.addEventListener("click",()=>{l()})}(e)}),n.appendChild(t)}let a=document.createElement("div");a.classList.add("todo-list-container");let u=document.createElement("button");u.setAttribute("class","change-project-name"),u.classList.add("button"),u.innerText="Change project name",u.addEventListener("click",()=>{!function(e){e.changeTitle(prompt("new title of project")),r(),o(d.totalProjects)}(e)});let s=document.createElement("button");s.setAttribute("class","delete-project"),s.innerText="Delete project",s.classList.add("button"),s.addEventListener("click",()=>{!function(e){if(d.deleteProject(e),r(),o(d.totalProjects),!0===e.active){document.querySelector("#todo-container").innerHTML=""}}(e)}),n.appendChild(s),n.appendChild(a),n.appendChild(u),n.appendChild(c),t.appendChild(n)}(t,e)})}function i(e,t){let n=document.querySelector("#todo-container");n.innerHTML="",e.forEach(r=>{let c=document.createElement("div");c.classList.add("todo-container"),c.classList.add(r.priority+"-priority");let a=document.createElement("h4");a.innerText=r.title;let u=document.createElement("p");u.innerText=r.description;let s=document.createElement("p");s.innerText=r.dueDate,document.createElement("p").innerText=""+r.priority;let p=document.createElement("button");p.innerText="Delete todo",p.classList.add("button"),p.addEventListener("click",()=>{!function(e,t,n){t.deleteTodo(e.indexOf(n)),i(e,t),o(d.totalProjects)}(e,t,r)});let m=document.createElement("button");m.innerText="Edit todo",m.classList.add("button"),m.addEventListener("click",()=>{!function(n){let r=document.querySelector("#form-container");r.innerHTML="",r.classList.remove("hidden");let c=document.createElement("form");c.setAttribute("onsubmit","return false");let a=document.createElement("label");a.innerText="Title";let u=document.createElement("input");u.setAttribute("type","text"),u.setAttribute("id","title-todo"),u.value=n.title,a.appendChild(u),c.appendChild(a);let s=document.createElement("label");s.innerText="Description";let p=document.createElement("textarea");p.innerText=n.description,p.setAttribute("id","description-todo"),s.appendChild(p),c.appendChild(s);let m=document.createElement("label");m.innerText="Date";let h=document.createElement("input");h.setAttribute("type","date"),h.setAttribute("id","date-todo"),h.value=n.dueDate,h.setAttribute("min",(new Date).toISOString().split("T")[0]),m.appendChild(h),c.appendChild(m);let f=document.createElement("label");f.innerText="Priority";let b=document.createElement("select");b.setAttribute("id","priority-todo");let E=document.createElement("option");E.innerText="Low",E.setAttribute("value","low"),b.appendChild(E);let y=document.createElement("option");y.innerText="Medium",y.setAttribute("value","medium"),b.appendChild(y);let T=document.createElement("option");T.innerText="High",T.setAttribute("value","high"),b.appendChild(T),b.value=n.priority,f.appendChild(b),c.appendChild(f);let v=document.createElement("span");v.innerText="x",v.addEventListener("click",()=>{l()}),c.appendChild(v);let j=document.createElement("button");j.innerText="Send",j.onclick=()=>{!function(n){let r=document.querySelector("#title-todo").value,c=document.querySelector("#description-todo").value,a=document.querySelector("#date-todo").value,u=document.querySelector("#priority-todo").value;n.changeTitle(r),n.changeDescription(c),n.changeDueDate(a),n.changePriority(u),o(d.totalProjects),l(),i(e,t)}(n)},j.classList.add("button"),c.appendChild(j),r.appendChild(c);let x=document.querySelector("#wall");x.classList.remove("hidden"),x.addEventListener("click",()=>{l()})}(r)}),c.appendChild(a),c.appendChild(u),c.appendChild(s),c.appendChild(p),c.appendChild(m),n.appendChild(c)})}function l(){let e=document.querySelector("#form-container");e.innerHTML="",e.classList.add("hidden"),document.querySelector("#wall").classList.add("hidden")}n.r(t),n.d(t,"projects",(function(){return d}));let d={totalProjects:[],makeDefaultProject:function(){let e=new c("Default project");d.totalProjects.push(e),e.createDefaultTodo("Default todo","This is a default to do","2020-03-09","low")},deleteProject:function(e){d.totalProjects.splice(d.totalProjects.indexOf(e),1)},addProject:function(e,t){if(e.length<4)return void alert("Title too short");let n=new c(e,t);return d.totalProjects.push(n),n}};class c{constructor(e,t){this.title=e,this.active=t,this.todosArray=[]}changeTitle(e){e.length<4?alert("Title too short"):this.title=e}createDefaultTodo(e,t,n,o){let r=new a(e,t,n,o);this.todosArray.push(r)}createTodo(){let e=document.querySelector("#title-todo").value,t=document.querySelector("#description-todo").value,n=document.querySelector("#date-todo").value,o=document.querySelector("#priority-todo").value,r=new a(e,t,n,o);this.todosArray.push(r)}deleteTodo(e){this.todosArray.splice(e,1)}}class a{constructor(e,t,n,o){if(!(e.length>=4))throw alert("Title too short"),"Title too short";if(this.title=e,this.description=t,!(n.length>=4))throw alert("Please enter a date"),"No date";this.dueDate=n,this.priority=o}changeTitle(e){if(!(e.length>=4))throw alert("Title too short"),"Title too short";this.title=e}changeDescription(e){this.description=e}changeDueDate(e){if(!(e.length>=4))throw alert("Please enter a date"),"No date";this.dueDate=e}changePriority(e){this.priority=e}}function u(){document.querySelector("#add-project").addEventListener("click",()=>{d.totalProjects.forEach(e=>{e.active=!1}),d.addProject(prompt("Name of the project","Default Name"),!0),r(),o(d.totalProjects)})}!function(){let e=function(){let e=localStorage.getItem("projects");return e=JSON.parse(e),e}();var t;e||(d.makeDefaultProject(),o(d.totalProjects)),(t=e)&&t.forEach(e=>{let t=d.addProject(e.title,e.active);e.todosArray.forEach(e=>{t.createDefaultTodo(e.title,e.description,e.dueDate,e.priority)})}),r(),u()}()}]);